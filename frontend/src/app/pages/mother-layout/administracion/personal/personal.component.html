<div class="admin-perfiles-container" (click)="deseleccionarFila($event)">
  
    <button mat-raised-button color="primary" class="custom-button" (click)="openModal('crearTrabajador')">Crear Trabajador</button>
    <button mat-raised-button color="primary" class="custom-button" [disabled]="!(selectedRows.length>0 && selectedRows.length<2)" (click)="openModal('modificarTrabajador'); $event.stopPropagation()">Modificar Trabajador</button>
    <button mat-raised-button color="primary" class="custom-button" [disabled]="!(selectedRows.length>0)" (click)="openModal('confirmacionModal')">Eliminar Trabajador</button>
    
    <div id="modalCrearTrabajador" class="modal-trabajadores" *ngIf="modals['crearTrabajador']" (click)="closeModal('crearTrabajador')">
      <div class="modal-content" (click)="$event.stopPropagation()">
          <div class="modal-header">
              
              <div class="title-container">
                  <h2>Crear Trabajador</h2>
              </div>
          </div>

          <div class="dropdown">
            <button class="dropdown-button" (click)="toggleDropdown('sociedades')">SELECCIONAR SOCIEDAD</button>
            <div class="dropdown-content" [class.show]="dropdownStates.sociedades"> 
              <ng-container *ngFor="let sociedad of sociedadesCargadas">
                <label [class.disabled]="selectedSociedadId !== null && selectedSociedadId !== sociedad.id">
                  <input type="checkbox"
                    [checked]="selectedSociedadId === sociedad.id"
                    (change)="toggleSelectionSociedad(sociedad.id)"
                    [disabled]="selectedSociedadId !== null && selectedSociedadId !== sociedad.id">
                  {{ sociedad.nombre }}
                </label>
              </ng-container>
            </div>
          </div>
            
          <div class="dropdown">
            <button class="dropdown-button" (click)="toggleDropdown('areas')">SELECCIONAR AREA</button>
            <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.areas"> 
              <ng-container *ngFor="let area of areasCargadas">
                <label [class.disabled]="selectedAreaId !== null && selectedAreaId !== area.id">
                  <input type="checkbox"
                    [checked]="selectedAreaId === area.id"
                    (change)="toggleSelectionArea(area.id)"
                    [disabled]="selectedAreaId !== null && selectedAreaId !== area.id">
                  {{ area.nombre }}
                </label>
              </ng-container>
            </div>
          </div>
              
          <div class="dropdown">
              <button class="dropdown-button" (click)="toggleDropdown('cargos')">SELECCIONAR CARGO</button>
              <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.cargos"> 
                <ng-container *ngFor="let cargo of cargosCargados">
                    <label [class.disabled]="selectedCargoId !== null && selectedCargoId !== cargo.id">
                        <input type="checkbox"
                            [checked]="selectedCargoId === cargo.id"
                            (change)="toggleSelectionCargo(cargo.id)"
                            [disabled]="selectedCargoId !== null && selectedCargoId !== cargo.id">
                        {{ cargo.nombre }}
                    </label>
                </ng-container>
              </div>
          </div>
              
          <div class="dropdown">
            <button class="dropdown-button" (click)="toggleDropdown('afps')">SELECCIONAR AFP</button>
            <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.afps"> 
              <ng-container *ngFor="let afp of afpCargadas">
                <label [class.disabled]="selectedAfpId !== null && selectedAfpId !== afp.id">
                  <input type="checkbox"
                  [checked]="selectedAfpId === afp.id"
                  (change)="toggleSelectionAFP(afp.id)"
                  [disabled]="selectedAfpId !== null && selectedAfpId !== afp.id">
                  {{ afp.nombre }}
                </label>
              </ng-container>
            </div>
          </div>
              
          <div class="dropdown">
            <button class="dropdown-button" (click)="toggleDropdown('salud')">SELECCIONAR SALUD</button>
            <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.salud"> 
              <ng-container *ngFor="let salud of saludCargadas">
                  <label [class.disabled]="selectedSaludId !== null && selectedSaludId !== salud.id">
                      <input type="checkbox"
                          [checked]="selectedSaludId === salud.id"
                          (change)="toggleSelectionSalud(salud.id)"
                          [disabled]="selectedSaludId !== null && selectedSaludId !== salud.id">
                      {{ salud.nombre }}
                  </label>
              </ng-container>
            </div>
          </div>
                
          <br><br>
          
          <h4 class="h4-subtitle">Nombres Trabajador:</h4>
          <input type="text" class="input-perfil" id="nombrePerfil" name="nombrePerfil" [(ngModel)]="nombresTrabajador" (ngModelChange)="nombresTrabajador = $event.toUpperCase()"><br><br>
          
          <h4 class="h4-subtitle">Apellidos Trabajador:</h4>
          <input type="text" class="input-perfil" id="nombrePerfil" name="nombrePerfil" [(ngModel)]="apellidosTrabajador" (ngModelChange)="apellidosTrabajador = $event.toUpperCase()"><br><br>
          
          <h4 class="h4-subtitle">RUT Trabajador:</h4>
          <input type="text" class="input-perfil" id="nombreUsuario" name="rutUsuario" [(ngModel)]="rutTrabajador"  (input)="formatRUT($event)"><br><br>

          <h4 class="h4-subtitle">Correo Trabajador:</h4>
          <input type="text" class="input-perfil" id="nombreUsuario" name="correoUsuario" [(ngModel)]="correoTrabajador" ><br><br>

          <h4 class="h4-subtitle">Direccion Trabajador:</h4>
          <input type="text" class="input-perfil" id="nombreUsuario" name="direccionUsuario" [(ngModel)]="direccionTrabajador" ><br><br>

          <h4 class="h4-subtitle">Sexo:</h4>
          <div class="input-container">
              <select class="input-perfil" [(ngModel)]="sexoTrabajador">
                  <option value="Hombre">Hombre</option>
                  <option value="Mujer">Mujer</option>
              </select>
          </div>
          
          <br><br>

          <h4 class="h4-subtitle">Telefono Trabajador:</h4>
          <div class="input-container">
            <span class="prefix">+56</span>
            <input type="text" class="input-perfil" id="telefonoTrabajador" name="telefonoTrabajador" [(ngModel)]="telefonoTrabajador"  (keypress)="validateNumber($event)">
          </div>

          <h4 class="h4-subtitle">Nacionalidad:</h4>
          <div class="input-container">
              
              <select class="input-nacionalidad" [(ngModel)]="nacionalidadTrabajador">
                  <!-- Nacionalidades más comunes -->
                  <option value="CHILENA">CHILENA</option>
                  <option value="BOLIVIANA">BOLIVIANA</option>
                  <option value="ARGENTINA">ARGENTINA</option>
                  <option value="PERUANA">PERUANA</option>
                  <option value="ECUATORIANA">ECUATORIANA</option>
                  <!-- Separador -->
                  <option disabled>──────────────────</option>
                  <!-- Lista filtrada de todas las nacionalidades -->
                  <option *ngFor="let nacionalidad of nacionalidadesFiltradas" 
                          [value]="nacionalidad">
                      {{nacionalidad}}
                  </option>
              </select>
          </div>
          <br><br>

          <h3>Ingrese la Fecha de Ingreso:</h3>
          <input type="date" class="input-perfil" placeholder="Fecha de Celebración" [(ngModel)]="fechaIngreso"><br>

            <!-- Metodo de Pago -->
          <h4 class="h4-subtitle">Metodo de Pago:</h4>
          <div class="input-container">
              <select class="input-perfil" [(ngModel)]="metodoPago" (change)="onMetodoPagoChange($event)">
                  <option value="Sin Pago">Sin Pago</option>
                  <option value="Efectivo">Efectivo</option>
                  <option value="Transferencia">Transferencia</option>
              </select>
          </div>
          <br><br>

          <!-- Campos adicionales para Transferencia -->
          <div *ngIf="metodoPago === 'Transferencia'">
              <!-- DROPDOWN DE BANCOS -->
              <div class="dropdown">
                  <button class="dropdown-button" (click)="toggleDropdown('bancos')">SELECCIONAR BANCO</button>
                  <div class="dropdown-content" [class.show]="dropdownStates.bancos"> 
                      <ng-container *ngFor="let banco of bancosCargados">
                          <label [class.disabled]="selectedBancoId !== null && selectedBancoId !== banco.id">
                              <input type="checkbox"
                                  [checked]="selectedBancoId === banco.id"
                                  (change)="toggleSelectionBanco(banco.id)"
                                  [disabled]="selectedBancoId !== null && selectedBancoId !== banco.id">
                              {{ banco.nombre }} ({{ banco.codigo_sbif }})
                          </label>
                      </ng-container>
                  </div>
              </div>
              <br><br>

              <h4 class="h4-subtitle">Tipo de Cuenta:</h4>
              <div class="input-container">
                  <select class="input-perfil" [(ngModel)]="tipoCuenta">
                      <option value="">Seleccionar tipo de cuenta</option>
                      <option value="Cuenta Corriente">Cuenta Corriente</option>
                      <option value="Cuenta de Ahorro">Cuenta de Ahorro</option>
                      <option value="Cuenta Vista">Cuenta Vista</option>
                      <option value="Cuenta RUT">Cuenta RUT</option>
                  </select>
              </div>
              <br><br>

              <h4 class="h4-subtitle">Numero de Cuenta:</h4>
              <input type="text" class="input-perfil" id="numeroCuenta" name="numeroCuenta" [(ngModel)]="numeroCuenta" (keypress)="validateNumber($event)">
              <br><br>
          </div>

          <button class="custom-button-ingreso"  (click)="crearTrabajador()" id="ingresarHoldingBtn">Ingresar Trabajador</button>
      </div>
    </div>
    
    <div id="modalmodificarTrabajador" class="modal-perfiles" *ngIf="modals['modificarTrabajador']" (click)="closeModal('modificarTrabajador')">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <span class="close" (click)="closeModal('modificarTrabajador')">&times;</span>
          <div class="header-bar"></div>
          <div class="title-container">
            <h2>Modificar Trabajador</h2>
          </div>
        </div>
    
        <h4 class="h4-subtitle">Nombre Trabajador:</h4>
        <input type="text" class="input-perfil" [(ngModel)]="nombreTrabajadorNew" (ngModelChange)="nombreTrabajadorNew = $event.toUpperCase()">
    
        <h4 class="h4-subtitle">RUT Trabajador:</h4>
        <input type="text" class="input-perfil" [(ngModel)]="rutTrabajadorNew" (input)="formatRUT($event)">
    
        <h4 class="h4-subtitle">Correo Trabajador:</h4>
        <input type="text" class="input-perfil" [(ngModel)]="correoTrabajadorNew">
    
        <h4 class="h4-subtitle">Dirección:</h4>
        <input type="text" class="input-perfil" [(ngModel)]="direccionTrabajadorNew">
    
        <h4 class="h4-subtitle">Sexo:</h4>
        <div class="input-container">
          <select class="input-perfil" [(ngModel)]="sexoTrabajadorNew">
            <option value="Hombre">Hombre</option>
            <option value="Mujer">Mujer</option>
          </select>
        </div>
    
        <h4 class="h4-subtitle">Teléfono:</h4>
        <div class="input-container">
          <span class="prefix">+56</span>
          <input type="text" class="input-perfil" [(ngModel)]="telefonoTrabajadorNew" (keypress)="validateNumber($event)">
        </div>

        <h4 class="h4-subtitle">Nacionalidad:</h4>
        <div class="input-container">
            <select class="input-perfil" [(ngModel)]="nacionalidadTrabajadorNew">
                <option value="CHILENA">CHILENA</option>
                <option value="BOLIVIANA">BOLIVIANA</option>
                <option value="ARGENTINA">ARGENTINA</option>
                <option value="PERUANA">PERUANA</option>
                <option value="ECUATORIANA">ECUATORIANA</option>
                <!-- Separador -->
                <option disabled>──────────────────</option>
                <!-- Lista filtrada de todas las nacionalidades -->
                <option *ngFor="let nacionalidad of nacionalidadesFiltradas" 
                        [value]="nacionalidad">
                    {{nacionalidad}}
                </option>
            </select>
        </div>
        <br><br>
            
        <button mat-raised-button class="table-button" (click)="openModal('sociedadesModal')">MODIFICAR SOCIEDAD</button>
        <button mat-raised-button class="table-button" (click)="openModal('areasModal')">MODIFICAR ÁREA</button>
        <button mat-raised-button class="table-button" (click)="openModal('cargosModal')">MODIFICAR CARGO</button>
        <button mat-raised-button class="table-button" (click)="openModal('afpModal')">MODIFICAR AFP</button>
        <button mat-raised-button class="table-button" (click)="openModal('saludModal')">MODIFICAR SISTEMA DE SALUD</button>
        
        <!-- Modal para selección de sociedades -->
        <div id="sociedadesModales" class="modal-perfiles" *ngIf="modals['sociedadesModal']">
          <div class="mini-modal">
            <div class="dropdown">
              <button class="dropdown-button" (click)="toggleDropdown('sociedades')">SELECCIONAR SOCIEDAD</button>
              <div id="sociedades-dropdown" class="dropdown-content" [class.show]="dropdownStates.sociedades"> 
                <ng-container *ngFor="let sociedad of sociedadesCargadas">
                  <label [class.disabled]="selectedSociedadId !== null && selectedSociedadId !== sociedad.id">
                    <input type="checkbox"
                      [checked]="selectedSociedadId === sociedad.id"
                      (change)="toggleSelectionSociedad(sociedad.id)"
                      [disabled]="selectedSociedadId !== null && selectedSociedadId !== sociedad.id">
                    {{ sociedad.nombre }}
                  </label>
                </ng-container>
              </div>
            </div>
            <button class="custom-button-sociedades" (click)="closeModal('sociedadesModal')">OK</button>
          </div>
        </div>

        <!-- Modal para selección de Areas -->
        <div id="AreasModales" class="modal-perfiles" *ngIf="modals['areasModal']">
          <div class="mini-modal">
            <div class="dropdown">
              <button class="dropdown-button" (click)="toggleDropdown('areas')">SELECCIONAR AREA</button>
              <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.areas"> 
                <ng-container *ngFor="let area of areasCargadas">
                  <label [class.disabled]="selectedAreaId !== null && selectedAreaId !== area.id">
                    <input type="checkbox"
                      [checked]="selectedAreaId === area.id"
                      (change)="toggleSelectionArea(area.id)"
                      [disabled]="selectedAreaId !== null && selectedAreaId !== area.id">
                    {{ area.nombre }}
                  </label>
                </ng-container>
              </div>
            </div>
            <button class="custom-button-sociedades" (click)="closeModal('areasModal')">OK</button>
          </div>
        </div>

        <!-- Modal para selección de Cargos -->
        <div id="CargosModales" class="modal-perfiles" *ngIf="modals['cargosModal']">
          <div class="mini-modal">
            <div class="dropdown">
              <button class="dropdown-button" (click)="toggleDropdown('cargos')">SELECCIONAR CARGO</button>
              <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.cargos"> 
                <ng-container *ngFor="let cargo of cargosCargados">
                  <label [class.disabled]="selectedCargoId !== null && selectedCargoId !== cargo.id">
                    <input type="checkbox"
                      [checked]="selectedCargoId === cargo.id"
                      (change)="toggleSelectionCargo(cargo.id)"
                      [disabled]="selectedCargoId !== null && selectedCargoId !== cargo.id">
                    {{ cargo.nombre }}
                  </label>
                </ng-container>
              </div>
            </div>
            <button class="custom-button-sociedades" (click)="closeModal('cargosModal')">OK</button>
          </div>
        </div>

        <!-- Modal para selección de AFP -->
        <div id="afpModales" class="modal-perfiles" *ngIf="modals['afpModal']">
          <div class="mini-modal">
            <div class="dropdown">
              <button class="dropdown-button" (click)="toggleDropdown('afps')">SELECCIONAR AFP</button>
              <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.afps"> 
                <ng-container *ngFor="let afp of afpCargadas">
                  <label [class.disabled]="selectedAfpId !== null && selectedAfpId !== afp.id">
                    <input type="checkbox"
                      [checked]="selectedAfpId === afp.id"
                      (change)="toggleSelectionAFP(afp.id)"
                      [disabled]="selectedAfpId !== null && selectedAfpId !== afp.id">
                    {{ afp.nombre }}
                  </label>
                </ng-container>
              </div>
            </div>
            <button class="custom-button-sociedades" (click)="closeModal('afpModal')">OK</button>
          </div>
        </div>

        <!-- Modal para selección de Salud -->
        <div id="saludModales" class="modal-perfiles" *ngIf="modals['saludModal']">
          <div class="mini-modal">
            <div class="dropdown">
              <button class="dropdown-button" (click)="toggleDropdown('salud')">SELECCIONAR SALUD</button>
              <div id="area-dropdown" class="dropdown-content" [class.show]="dropdownStates.salud"> 
                <ng-container *ngFor="let salud of saludCargadas">
                  <label [class.disabled]="selectedSaludId !== null && selectedSaludId !== salud.id">
                    <input type="checkbox"
                      [checked]="selectedSaludId === salud.id"
                      (change)="toggleSelectionSalud(salud.id)"
                      [disabled]="selectedSaludId !== null && selectedSaludId !== salud.id">
                    {{ salud.nombre }}
                  </label>
                </ng-container>
              </div>
            </div>
            <button class="custom-button-sociedades" (click)="closeModal('saludModal')">OK</button>
          </div>
        </div>

        <h4 class="h4-subtitle">Fecha de Ingreso:</h4>
        <input type="date" class="input-perfil" [(ngModel)]="fechaIngresoNew">
    
        <h4 class="h4-subtitle">Método de Pago:</h4>
        <div class="input-container">
          <select class="input-perfil" [(ngModel)]="metodoPagoNew" (change)="onMetodoPagoChange($event)">
            <option value="Sin Pago">Sin Pago</option>
            <option value="Efectivo">Efectivo</option>
            <option value="Transferencia">Transferencia</option>
          </select>
        </div>
    
        <!-- Campos adicionales para Transferencia -->
        <div *ngIf="metodoPagoNew === 'Transferencia'">
          <!-- Modal para selección de Bancos -->
          <button mat-raised-button class="table-button" (click)="openModal('bancosModal')">MODIFICAR BANCO</button>
          
          <div id="bancosModales" class="modal-perfiles" *ngIf="modals['bancosModal']">
              <div class="mini-modal">
                  <div class="dropdown">
                      <button class="dropdown-button" (click)="toggleDropdown('bancos')">SELECCIONAR BANCO</button>
                      <div class="dropdown-content" [class.show]="dropdownStates.bancos"> 
                          <ng-container *ngFor="let banco of bancosCargados">
                              <label [class.disabled]="selectedBancoId !== null && selectedBancoId !== banco.id">
                                  <input type="checkbox"
                                      [checked]="selectedBancoId === banco.id"
                                      (change)="toggleSelectionBanco(banco.id)"
                                      [disabled]="selectedBancoId !== null && selectedBancoId !== banco.id">
                                  {{ banco.nombre }} ({{ banco.codigo_sbif }})
                              </label>
                          </ng-container>
                      </div>
                  </div>
                  <button class="custom-button-sociedades" (click)="closeModal('bancosModal')">OK</button>
              </div>
          </div>

          <h4 class="h4-subtitle">Tipo de Cuenta:</h4>
          <div class="input-container">
            <select class="input-perfil" [(ngModel)]="tipoCuentaNew">
              <option value="">Seleccionar tipo de cuenta</option>
              <option value="Cuenta Corriente">Cuenta Corriente</option>
              <option value="Cuenta de Ahorro">Cuenta de Ahorro</option>
              <option value="Cuenta Vista">Cuenta Vista</option>
              <option value="Cuenta RUT">Cuenta RUT</option>
            </select>
          </div>

          <h4 class="h4-subtitle">Número de Cuenta:</h4>
          <input type="text" class="input-perfil" [(ngModel)]="numeroCuentaNew" (keypress)="validateNumber($event)">
        </div>
    
        <button class="custom-button-ingreso" (click)="modificarTrabajador()">Guardar Cambios</button>
      </div>
    </div>
    
    <table mat-table [dataSource]="trabajadoresCargados" class="mat-elevation-z8" (click)="$event.stopPropagation()">
      
      <ng-container matColumnDef="codigo">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Codigo </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.id}} </td>
      </ng-container>
      
      <ng-container matColumnDef="sociedad">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Sociedad </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.nombre_sociedad}} </td>
      </ng-container>
  
      <ng-container matColumnDef="area">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> Area </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.nombre_area}} </td>
      </ng-container>
  
      <ng-container matColumnDef="cargo">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> Cargo </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.nombre_cargo}} </td>
      </ng-container>
  
      <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> Nombres </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.nombres}} </td>
      </ng-container>
      
      <ng-container matColumnDef="rut">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> RUT </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.rut}} </td>
      </ng-container>
  
      <ng-container matColumnDef="direccion">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> Direccion </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.direccion}} </td>
      </ng-container>
  
      <ng-container matColumnDef="sexo">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Sexo </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.sexo}} </td>
      </ng-container>
  
      <ng-container matColumnDef="telefono">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Telefono </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.telefono}} </td>
      </ng-container>
  
      <ng-container matColumnDef="nacionalidad">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Nacionalidad </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.nacionalidad}} </td>
      </ng-container>
  
      <ng-container matColumnDef="correo">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Correo </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.correo}} </td>
      </ng-container>
  
      <ng-container matColumnDef="fecha_ingreso">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> Fecha Ingreso </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.fecha_ingreso}} </td>
      </ng-container>
  
      <ng-container matColumnDef="afp">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> AFP </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.nombre_afp}} </td>
      </ng-container>
  
      <ng-container matColumnDef="salud">
          <th mat-header-cell *matHeaderCellDef class="mat-header"> Salud </th>
          <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.nombre_salud}} </td>
      </ng-container>
  
      <ng-container matColumnDef="metodo_pago">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Metodo Pago </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell"> {{trabajador.metodo_pago}} </td>
      </ng-container>

      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef class="mat-header"> Estado </th>
        <td mat-cell *matCellDef="let trabajador" class="mat-cell">
          <span *ngIf="trabajador.estado; else inactivo">ACTIVO</span>
          <ng-template #inactivo>INNACTIVO</ng-template>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="columnasDesplegadas"></tr>
  
      <tr mat-row *matRowDef="let row; columns: columnasDesplegadas;" [class.selected]="isSelected(row)"  (click)="selectRow(row)"></tr>
    </table>
</div>

<!-- Modal de confirmación para eliminar -->
<div id="confirmacionModal" class="modal-perfiles" *ngIf="modals['confirmacionModal']">
    <div class="modal-content">
        <h2 style="color:white;">Confirmar Eliminación</h2>
        <div class="exito-message" style="color:white;">
            ¿Está seguro que desea eliminar {{deletedRow.length}} trabajador(es) seleccionado(s)?
        </div>
        <div class="modal-actions">
            <button class="custom-button yes-button" (click)="eliminarTrabajadoresSeleccionados()">Sí, Eliminar</button>
            <button class="custom-button no-button" (click)="closeModal('confirmacionModal')">Cancelar</button>
        </div>
    </div>
</div>
  
<div id="exitoModal" class="modal-perfiles" *ngIf="modals['exitoModal']">
    <div class="modal-content">
        <h2 style="color:white;">¡Éxito!</h2>
        <div class="exito-message" id="exitoText"></div>
        <button class="custom-button" (click)="closeModal('exitoModal')" >Cerrar</button>
    </div>
</div>
  
<div id="errorModal" class="modal-perfiles" *ngIf="modals['errorModal']">
    <div class="modal-content">
        <h2 style="color:white;">¡Error!</h2>
        <div class="error-icon-container">
            <i class="fas fa-exclamation-triangle icon-exclamation-triangle"></i>
        </div>
        <div class="error-message" style="color:white;">{{ errorMessage }}</div>
        <button class="custom-button" (click)="closeModal('errorModal')">Cerrar</button>
    </div>
</div>