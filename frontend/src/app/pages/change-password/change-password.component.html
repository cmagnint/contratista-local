<!-- change-password.component.html -->
<div class="change-password-container">
  <div class="change-password-card">
    
    <!-- Header -->
    <div class="header">
      <div class="icon-container">
        <span class="password-icon">ğŸ”</span>
      </div>
      <h2 class="title">Cambiar ContraseÃ±a</h2>
      <p class="subtitle">Ingrese su nueva contraseÃ±a</p>
    </div>

    <!-- Formulario -->
    <form (ngSubmit)="changePassword()" class="password-form">
      
      <!-- Nueva ContraseÃ±a -->
      <div class="form-group">
        <label for="nuevaContrasena" class="form-label">Nueva ContraseÃ±a</label>
        <div class="input-container">
          <input 
            [type]="showPassword ? 'text' : 'password'"
            id="nuevaContrasena"
            name="nuevaContrasena"
            [(ngModel)]="nuevaContrasena"
            class="form-input"
            placeholder="Ingrese su nueva contraseÃ±a"
            required
            minlength="6"
            [disabled]="isLoading">
          <button 
            type="button" 
            class="toggle-password"
            (click)="togglePasswordVisibility()"
            [disabled]="isLoading">
            <span *ngIf="showPassword">ğŸ‘ï¸</span>
            <span *ngIf="!showPassword">ğŸ™ˆ</span>
          </button>
        </div>
        <small class="form-help">MÃ­nimo 6 caracteres</small>
      </div>

      <!-- Confirmar ContraseÃ±a -->
      <div class="form-group">
        <label for="confirmarContrasena" class="form-label">Confirmar ContraseÃ±a</label>
        <div class="input-container">
          <input 
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="confirmarContrasena"
            name="confirmarContrasena"
            [(ngModel)]="confirmarContrasena"
            (ngModelChange)="onConfirmPasswordChange()"
            class="form-input"
            [class.error]="confirmarContrasena && nuevaContrasena !== confirmarContrasena"
            placeholder="Confirme su nueva contraseÃ±a"
            required
            [disabled]="isLoading">
          <button 
            type="button" 
            class="toggle-password"
            (click)="toggleConfirmPasswordVisibility()"
            [disabled]="isLoading">
            <span *ngIf="showConfirmPassword">ğŸ‘ï¸</span>
            <span *ngIf="!showConfirmPassword">ğŸ™ˆ</span>
          </button>
        </div>
        
        <!-- Mensaje de error en tiempo real -->
        <small 
          class="form-error" 
          *ngIf="confirmarContrasena && nuevaContrasena !== confirmarContrasena">
          Las contraseÃ±as no coinciden
        </small>
        
        <!-- Mensaje de Ã©xito -->
        <small 
          class="form-success" 
          *ngIf="confirmarContrasena && nuevaContrasena === confirmarContrasena && nuevaContrasena.length >= 6">
          âœ“ Las contraseÃ±as coinciden
        </small>
      </div>

      <!-- Indicador de Fortaleza -->
      <div class="password-strength" *ngIf="nuevaContrasena">
        <div class="strength-label">Fortaleza de la contraseÃ±a:</div>
        <div class="strength-bar">
          <div 
            class="strength-fill"
            [ngClass]="getPasswordStrengthClass()">
          </div>
        </div>
        <small class="strength-text">
          <span 
            [ngClass]="{
              'weak-text': isWeakPassword(),
              'medium-text': isMediumPassword(),
              'strong-text': isStrongPassword()
            }">
            {{ getPasswordStrengthText() }}
          </span>
        </small>
      </div>

      <!-- Botones -->
      <div class="button-container">
        <button 
          type="button" 
          class="btn btn-secondary"
          (click)="cancelar()"
          [disabled]="isLoading">
          Cancelar
        </button>
        
        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="isLoading || !nuevaContrasena || !confirmarContrasena || nuevaContrasena !== confirmarContrasena">
          
          <span *ngIf="!isLoading">
            <span class="btn-icon">ğŸ”</span>
            Cambiar ContraseÃ±a
          </span>
          
          <span *ngIf="isLoading" class="loading-content">
            <span class="spinner"></span>
            Cambiando...
          </span>
        </button>
      </div>

    </form>

    <!-- InformaciÃ³n adicional -->
    <div class="info-section">
      <div class="security-tips">
        <h4>ğŸ’¡ Consejos de seguridad:</h4>
        <ul>
          <li>Use al menos 8 caracteres</li>
          <li>Incluya mayÃºsculas y minÃºsculas</li>
          <li>AÃ±ada nÃºmeros y sÃ­mbolos</li>
          <li>No use informaciÃ³n personal</li>
        </ul>
      </div>
    </div>

  </div>
</div>